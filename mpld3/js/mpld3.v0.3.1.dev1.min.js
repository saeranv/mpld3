!function(t){var s={_mpld3IsLoaded:!0,figures:[],plugin_map:{}};function o(t){var s={};for(var o in t)s[o]=t[o];return s}function i(t,s){t=void 0!==t?t:10;for(var o=(s=void 0!==s?s:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").charAt(Math.round(Math.random()*(s.length-11))),i=1;i<t;i++)o+=s.charAt(Math.round(Math.random()*(s.length-1)));return o}function e(t){return void 0===t}function r(t){return null==t||e(t)}function n(t,s){return t.length>0?t[s%t.length]:null}function a(s){var o=function(t,s){return t[0]},i=function(t,s){return t[1]},e=function(t,s){return!0},r={M:1,m:1,L:1,l:1,Q:2,q:2,T:1,t:1,S:2,s:2,C:3,c:3,Z:0,z:0};function n(s,n){var a=t.functor(o),p=t.functor(i),h=[],l=[],c=0,d=-1,u=0,f=!1;if(!n){n=["M"];for(var y=1;y<s.length;y++)n.push("L")}for(;++d<n.length;){for(u=c+r[n[d]],h=[];c<u;)e.call(this,s[c],c)?(h.push(a.call(this,s[c],c),p.call(this,s[c],c)),c++):(h=null,c=u);h?f&&h.length>0?(l.push("M",h[0],h[1]),f=!1):(l.push(n[d]),l=l.concat(h)):f=!0}return c!=s.length&&console.warn("Warning: not all vertices used in Path"),l.join(" ")}return n.x=function(t){return arguments.length?(o=t,n):o},n.y=function(t){return arguments.length?(i=t,n):i},n.defined=function(t){return arguments.length?(e=t,n):e},n.call=n,n}function p(t,s){if(E.call(this,t,s),this.cssclass="mpld3-"+this.props.xy+"grid","x"==this.props.xy)this.transform="translate(0,"+this.ax.height+")",this.position="bottom",this.scale=this.ax.xdom,this.tickSize=-this.ax.height;else{if("y"!=this.props.xy)throw"unrecognized grid xy specifier: should be 'x' or 'y'";this.transform="translate(0,0)",this.position="left",this.scale=this.ax.ydom,this.tickSize=-this.ax.width}}function h(t,s){E.call(this,t,s);var o={bottom:[0,this.ax.height],top:[0,0],left:[0,0],right:[this.ax.width,0]};this.transform="translate("+o[this.props.position]+")",this.props.xy={bottom:"x",top:"x",left:"y",right:"y"}[this.props.position],this.cssclass="mpld3-"+this.props.xy+"axis",this.scale=this.ax[this.props.xy+"dom"]}function l(t,s){if(void 0===s){if(this.ax=null,this.fig=null,"display"!==this.trans)throw"ax must be defined if transform != 'display'"}else this.ax=s,this.fig=s.fig;if(this.zoomable="data"===t,this.x=this["x_"+t],this.y=this["y_"+t],void 0===this.x||void 0===this.y)throw"unrecognized coordinate code: "+t}function c(t,s){E.call(this,t,s),this.data=t.fig.get_data(this.props.data),this.pathcodes=this.props.pathcodes,this.pathcoords=new l(this.props.coordinates,this.ax),this.offsetcoords=new l(this.props.offsetcoordinates,this.ax),this.datafunc=a()}function d(t,s){E.call(this,t,s),null!=this.props.facecolors&&0!=this.props.facecolors.length||(this.props.facecolors=["none"]),null!=this.props.edgecolors&&0!=this.props.edgecolors.length||(this.props.edgecolors=["none"]);var o=this.ax.fig.get_data(this.props.offsets);null!==o&&0!==o.length||(o=[null]);var i=Math.max(this.props.paths.length,o.length);if(o.length===i)this.offsets=o;else{this.offsets=[];for(var e=0;e<i;e++)this.offsets.push(n(o,e))}this.pathcoords=new l(this.props.pathcoordinates,this.ax),this.offsetcoords=new l(this.props.offsetcoordinates,this.ax)}function u(s,o){E.call(this,s,o);var i=this.props;switch(i.facecolor="none",i.edgecolor=i.color,delete i.color,i.edgewidth=i.linewidth,delete i.linewidth,drawstyle=i.drawstyle,delete i.drawstyle,this.defaultProps=c.prototype.defaultProps,c.call(this,s,i),drawstyle){case"steps":case"steps-pre":this.datafunc=t.svg.line().interpolate("step-before");break;case"steps-post":this.datafunc=t.svg.line().interpolate("step-after");break;case"steps-mid":this.datafunc=t.svg.line().interpolate("step");break;default:this.datafunc=t.svg.line().interpolate("linear")}}function f(o,i){E.call(this,o,i),null!==this.props.markerpath?this.marker=0==this.props.markerpath[0].length?null:s.path().call(this.props.markerpath[0],this.props.markerpath[1]):this.marker=null===this.props.markername?null:t.svg.symbol(this.props.markername).size(Math.pow(this.props.markersize,2))();var e={paths:[this.props.markerpath],offsets:o.fig.get_data(this.props.data),xindex:this.props.xindex,yindex:this.props.yindex,offsetcoordinates:this.props.coordinates,edgecolors:[this.props.edgecolor],edgewidths:[this.props.edgewidth],facecolors:[this.props.facecolor],alphas:[this.props.alpha],zorder:this.props.zorder,id:this.props.id};this.requiredProps=d.prototype.requiredProps,this.defaultProps=d.prototype.defaultProps,d.call(this,o,e)}function y(t,s){E.call(this,t,s),this.coords=new l(this.props.coordinates,this.ax)}function g(t,s){E.call(this,t,s),this.text=this.props.text,this.position=this.props.position,this.coords=new l(this.props.coordinates,this.ax)}function m(o,i){E.call(this,o,i),this.axnum=this.fig.axes.length,this.axid=this.fig.figid+"_ax"+(this.axnum+1),this.clipid=this.axid+"_clip",this.props.xdomain=this.props.xdomain||this.props.xlim,this.props.ydomain=this.props.ydomain||this.props.ylim,this.sharex=[],this.sharey=[],this.elements=[];var e=this.props.bbox;function r(t){return new Date(t[0],t[1],t[2],t[3],t[4],t[5])}function n(t,s){return"date"!==t?s:[r(s[0]),r(s[1])]}function a(s,o,i){return("date"===s?t.time.scale():"log"===s?t.scale.log():t.scale.linear()).domain(o).range(i)}this.position=[e[0]*this.fig.width,(1-e[1]-e[3])*this.fig.height],this.width=e[2]*this.fig.width,this.height=e[3]*this.fig.height,this.props.xdomain=n(this.props.xscale,this.props.xdomain),this.props.ydomain=n(this.props.yscale,this.props.ydomain),this.x=this.xdom=a(this.props.xscale,this.props.xdomain,[0,this.width]),this.y=this.ydom=a(this.props.yscale,this.props.ydomain,[this.height,0]),"date"===this.props.xscale&&(this.x=s.multiscale(t.scale.linear().domain(this.props.xlim).range(this.props.xdomain.map(Number)),this.xdom)),"date"===this.props.yscale&&(this.y=s.multiscale(t.scale.linear().domain(this.props.ylim).range(this.props.ydomain.map(Number)),this.ydom));for(var p=this.props.axes,h=0;h<p.length;h++){var l=new s.Axis(this,p[h]);this.elements.push(l),(this.props.gridOn||l.props.grid.gridOn)&&this.elements.push(l.getGrid())}var c=this.props.paths;for(h=0;h<c.length;h++)this.elements.push(new s.Path(this,c[h]));var d=this.props.lines;for(h=0;h<d.length;h++)this.elements.push(new s.Line(this,d[h]));var u=this.props.markers;for(h=0;h<u.length;h++)this.elements.push(new s.Markers(this,u[h]));var f=this.props.texts;for(h=0;h<f.length;h++)this.elements.push(new s.Text(this,f[h]));var y=this.props.collections;for(h=0;h<y.length;h++)this.elements.push(new s.PathCollection(this,y[h]));var g=this.props.images;for(h=0;h<g.length;h++)this.elements.push(new s.Image(this,g[h]));this.elements.sort(function(t,s){return t.props.zorder-s.props.zorder})}function x(t,s){E.call(this,t,s),this.buttons=[],this.props.buttons.forEach(this.addButton.bind(this))}function b(t,s){E.call(this,t),this.toolbar=t,this.fig=this.toolbar.fig,this.cssclass="mpld3-"+s+"button",this.active=!1}function v(t,s){E.call(this,t,s)}function A(t,o){v.call(this,t,o);var i=s.ButtonFactory({buttonID:"reset",sticky:!1,onActivate:function(){this.toolbar.fig.reset()},icon:function(){return s.icons.reset}});this.fig.buttons.push(i)}function w(t,o){v.call(this,t,o),null===this.props.enabled&&(this.props.enabled=!this.props.button);var i=this.props.enabled;if(this.props.button){var e=s.ButtonFactory({buttonID:"zoom",sticky:!0,actions:["scroll","drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(i)},icon:function(){return s.icons.move}});this.fig.buttons.push(e)}}function z(t,o){v.call(this,t,o),null===this.props.enabled&&(this.props.enabled=!this.props.button);var i=this.props.enabled;if(this.props.button){var e=s.ButtonFactory({buttonID:"boxzoom",sticky:!0,actions:["drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(i)},icon:function(){return s.icons.zoom}});this.fig.buttons.push(e)}this.extentClass="boxzoombrush"}function k(t,s){v.call(this,t,s)}function _(t,o){s.Plugin.call(this,t,o),null===this.props.enabled&&(this.props.enabled=!this.props.button);var i=this.props.enabled;if(this.props.button){var e=s.ButtonFactory({buttonID:"linkedbrush",sticky:!0,actions:["drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(i)},icon:function(){return s.icons.brush}});this.fig.buttons.push(e)}this.extentClass="linkedbrush"}function P(t,o){s.Plugin.call(this,t,o)}function B(o,i){E.call(this,null,i),this.figid=o,this.width=this.props.width,this.height=this.props.height,this.data=this.props.data,this.buttons=[],this.root=t.select("#"+o).append("div").style("position","relative"),this.axes=[];for(var e=0;e<this.props.axes.length;e++)this.axes.push(new m(this,this.props.axes[e]));this.plugins=[];for(e=0;e<this.props.plugins.length;e++)this.add_plugin(this.props.plugins[e]);this.toolbar=new s.Toolbar(this,{buttons:this.buttons})}function E(t,s){this.parent=r(t)?null:t,this.props=r(s)?{}:this.processProps(s),this.fig=t instanceof B?t:t&&"fig"in t?t.fig:null,this.ax=t instanceof m?t:t&&"ax"in t?t.ax:null}s.version="0.3.1.dev1",s.register_plugin=function(t,o){s.plugin_map[t]=o},s.draw_figure=function(t,o){if(null===document.getElementById(t))throw t+" is not a valid id";var i=new s.Figure(t,o);return s.figures.push(i),i.draw(),i},s.cloneObj=o,s.merge_objects=function(t){for(var s,o={},i=0;i<arguments.length;i++){s=arguments[i];for(var e in s)o[e]=s[e]}return o},s.generate_id=function(t,s){return console.warn("mpld3.generate_id is deprecated. Use mpld3.generateId instead."),i(t,s)},s.generateId=i,s.get_element=function(t,o){var i,e,r;i=void 0===o?s.figures:void 0===o.length?[o]:o;for(var n=0;n<i.length;n++){if((o=i[n]).props.id===t)return o;for(var a=0;a<o.axes.length;a++){if((e=o.axes[a]).props.id===t)return e;for(var p=0;p<e.elements.length;p++)if((r=e.elements[p]).props.id===t)return r}}return null},s.insert_css=function(t,s){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),e=t+" {";for(var r in s)e+=r+":"+s[r]+"; ";e+="}",i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),o.appendChild(i)},s.process_props=function(t,s,o,i){function e(t){E.call(this,null,t)}return console.warn("mpld3.process_props is deprecated. Plot elements should derive from mpld3.PlotElement"),e.prototype=Object.create(E.prototype),e.prototype.constructor=e,e.prototype.requiredProps=i,e.prototype.defaultProps=o,new e(s).props},s.interpolateDates=function(s,o){var i=t.interpolate([s[0].valueOf(),s[1].valueOf()],[o[0].valueOf(),o[1].valueOf()]);return function(t){var s=i(t);return[new Date(s[0]),new Date(s[1])]}},s.path=function(){return a()},s.multiscale=function(t){var s=Array.prototype.slice.call(arguments,0),o=s.length;function i(t){return s.forEach(function(s){t=s(t)}),t}return i.domain=function(t){return arguments.length?(s[0].domain(t),i):s[0].domain()},i.range=function(t){return arguments.length?(s[o-1].range(t),i):s[o-1].range()},i.step=function(t){return s[t]},i},s.icons={reset:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACMoD/OzIwAAAJhJREFUOMtjYKAx4KDUgNsMDAx7\nyNV8i4GB4T8U76VEM8mGYNNMtCH4NBM0hBjNMIwSsMzQ0MamcDkDA8NmQi6xggpUoikwQbIkHk2u\nE0rLI7vCBknBSyxeRDZAE6qHgQkq+ZeBgYERSfFPAoHNDNUDN4BswIRmKgxwEasP2dlsDAwMYlA/\n/mVgYHiBpkkGKscIDaPfVMmuAGnOTaGsXF0MAAAAAElFTkSuQmCC\n",move:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACQMfLHBNQAAANZJREFUOMud07FKA0EQBuAviaKB\nlFr7COJrpAyYRlKn8hECEkFEn8ROCCm0sBMRYgh5EgVFtEhsRjiO27vkBoZd/vn5d3b+XcrjFI9q\nxgXWkc8pUjOB93GMd3zgB9d1unjDSxmhWSHQqOJki+MtOuv/b3ZifUqctIrMxwhHuG1gim4Ma5kR\nWuEkXFgU4B0MW1Ho4TeyjX3s4TDq3zn8ALvZ7q5wX9DqLOHCDA95cFBAnOO1AL/ZdNopgY3fQcqF\nyriMe37hM9w521ZkkvlMo7o/8g7nZYQ/QDctp1nTCf0AAAAASUVORK5CYII=\n",zoom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gMPDiIRPL/2oQAAANBJREFUOMvF0b9KgzEcheHHVnCT\nKoI4uXbtLXgB3oJDJxevw1VwkoJ/NjepQ2/BrZRCx0ILFURQKV2kyOeSQpAmn7WDB0Lg955zEhLy\n2scdXlBggits+4WOQqjAJ3qYR7NGLrwXGU9+sGbEtlIF18FwmuBngZ+nCt6CIacC3Rx8LSl4xzgF\nn0tusBn4UyVhuA/7ZYIv5g+pE3ail25hN/qdmzCfpsJVjKKCZesDBwtzrAqGOMQj6vhCDRsY4ALH\nmOVObltR/xeG/jph6OD2r+Fv5lZBWEhMx58AAAAASUVORK5CYII=\n",brush:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAEQkAABEJAFAZ8RUAAAAB3RJTUUH3gMCEiQKB9YaAgAAAWtJREFUOMuN0r1qVVEQhuFn700k\nnfEvBq0iNiIiOKXgH4KCaBeIhWARK/EibLwFCwVLjyAWaQzRGG9grC3URkHUBKKgRuWohWvL5pjj\nyTSLxcz7rZlZHyMiItqzFxGTEVF18/UoODNFxDIO4x12dkXqTcBPsCUzD+AK3ndFqhHwEsYz82gn\nN4dbmMRK9R/4KY7jAvbiWmYeHBT5Z4QCP8J1rGAeN3GvU3Mbl/Gq3qCDcxjLzOV+v78fq/iFIxFx\nPyJ2lNJpfBy2g59YzMyzEbEVLzGBJjOriLiBq5gaJrCIU3hcRCbwAtuwjm/Yg/V6I9NgDA1OR8RC\nZq6Vcd7iUwtn5h8fdMBdETGPE+Xe4ExELDRNs4bX2NfCUHe+7UExyfkCP8MhzOA7PuAkvrbwXyNF\nxF3MDqxiqlhXC7SPdaOKiN14g0u4g3H0MvOiTUSNY3iemb0ywmfMdfYyUmAJ2yPiBx6Wr/oy2Oqw\n+A1SupBzAOuE/AAAAABJRU5ErkJggg==\n"},s.Grid=p,p.prototype=Object.create(E.prototype),p.prototype.constructor=p,p.prototype.requiredProps=["xy"],p.prototype.defaultProps={color:"gray",dasharray:"2,2",alpha:"0.5",nticks:10,gridOn:!0,tickvalues:null,zorder:0},p.prototype.draw=function(){this.grid=t.svg.axis().scale(this.scale).orient(this.position).ticks(this.props.nticks).tickValues(this.props.tickvalues).tickSize(this.tickSize,0,0).tickFormat(""),this.elem=this.ax.axes.append("g").attr("class",this.cssclass).attr("transform",this.transform).call(this.grid),s.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" .tick",{stroke:this.props.color,"stroke-dasharray":this.props.dasharray,"stroke-opacity":this.props.alpha}),s.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" path",{"stroke-width":0})},p.prototype.zoomed=function(){this.elem.call(this.grid)},s.Axis=h,h.prototype=Object.create(E.prototype),h.prototype.constructor=h,h.prototype.requiredProps=["position"],h.prototype.defaultProps={nticks:10,tickvalues:null,tickformat:null,fontsize:"11px",fontcolor:"white",axiscolor:"white",scale:"linear",grid:{},zorder:0},h.prototype.getGrid=function(){var t={nticks:this.props.nticks,zorder:this.props.zorder,tickvalues:this.props.tickvalues,xy:this.props.xy};if(this.props.grid)for(var s in this.props.grid)t[s]=this.props.grid[s];return new p(this.ax,t)},h.prototype.draw=function(){if("date"===("x"===this.props.xy?this.parent.props.xscale:this.parent.props.yscale)&&this.props.tickvalues){var o="x"===this.props.xy?this.parent.x.domain():this.parent.y.domain(),i="x"===this.props.xy?this.parent.xdom.domain():this.parent.ydom.domain(),e=t.scale.linear().domain(o).range(i);this.props.tickvalues=this.props.tickvalues.map(function(t){return new Date(e(t))})}var r,n,a=(r=this.props.tickformat,n=this.props.tickvalues,""===r||null===r?r:t.scale.threshold().domain(n.slice(1)).range(r));this.axis=t.svg.axis().scale(this.scale).orient(this.props.position).ticks(this.props.nticks).tickValues(this.props.tickvalues).tickFormat(a),this.filter_ticks(this.axis.tickValues,this.axis.scale().domain()),this.elem=this.ax.baseaxes.append("g").attr("transform",this.transform).attr("class",this.cssclass).call(this.axis),s.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" line,  ."+this.cssclass+" path",{"shape-rendering":"crispEdges",stroke:this.props.axiscolor,fill:"none"}),s.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" text",{"font-family":"sans-serif","font-size":this.props.fontsize+"px",fill:this.props.fontcolor,stroke:"none"})},h.prototype.zoomed=function(){this.filter_ticks(this.axis.tickValues,this.axis.scale().domain()),this.elem.call(this.axis)},h.prototype.filter_ticks=function(t,s){null!=this.props.tickvalues&&t(this.props.tickvalues.filter(function(t){return t>=s[0]&&t<=s[1]}))},s.Coordinates=l,l.prototype.xy=function(t,s,o){return s=void 0===s?0:s,o=void 0===o?1:o,[this.x(t[s]),this.y(t[o])]},l.prototype.x_data=function(t){return this.ax.x(t)},l.prototype.y_data=function(t){return this.ax.y(t)},l.prototype.x_display=function(t){return t},l.prototype.y_display=function(t){return t},l.prototype.x_axes=function(t){return t*this.ax.width},l.prototype.y_axes=function(t){return this.ax.height*(1-t)},l.prototype.x_figure=function(t){return t*this.fig.width-this.ax.position[0]},l.prototype.y_figure=function(t){return(1-t)*this.fig.height-this.ax.position[1]},s.Path=c,c.prototype=Object.create(E.prototype),c.prototype.constructor=c,c.prototype.requiredProps=["data"],c.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",facecolor:"green",edgecolor:"black",edgewidth:1,dasharray:"none",pathcodes:null,offset:null,offsetcoordinates:"data",alpha:1,zorder:1},c.prototype.finiteFilter=function(t,s){return isFinite(this.pathcoords.x(t[this.props.xindex]))&&isFinite(this.pathcoords.y(t[this.props.yindex]))},c.prototype.draw=function(){if(this.datafunc.defined(this.finiteFilter.bind(this)).x(function(t){return this.pathcoords.x(t[this.props.xindex])}).y(function(t){return this.pathcoords.y(t[this.props.yindex])}),this.path=this.ax.axes.append("svg:path").attr("d",this.datafunc(this.data,this.pathcodes)).attr("class","mpld3-path").style("stroke",this.props.edgecolor).style("stroke-width",this.props.edgewidth).style("stroke-dasharray",this.props.dasharray).style("stroke-opacity",this.props.alpha).style("fill",this.props.facecolor).style("fill-opacity",this.props.alpha).attr("vector-effect","non-scaling-stroke"),null!==this.props.offset){var t=this.offsetcoords.xy(this.props.offset);this.path.attr("transform","translate("+t+")")}},c.prototype.elements=function(t){return this.path},c.prototype.zoomed=function(){if(this.pathcoords.zoomable&&this.path.attr("d",this.datafunc(this.data,this.pathcodes)),null!==this.props.offset&&this.offsetcoords.zoomable){var t=this.offsetcoords.xy(this.props.offset);this.path.attr("transform","translate("+t+")")}},s.PathCollection=d,d.prototype=Object.create(E.prototype),d.prototype.constructor=d,d.prototype.requiredProps=["paths","offsets"],d.prototype.defaultProps={xindex:0,yindex:1,pathtransforms:[],pathcoordinates:"display",offsetcoordinates:"data",offsetorder:"before",edgecolors:["#000000"],edgewidths:[1],facecolors:["#0000FF"],alphas:[1],zorder:2},d.prototype.transformFunc=function(s,o){var i=this.props.pathtransforms,e=0==i.length?"":t.transform("matrix("+n(i,o)+")").toString(),r=null===s||void 0===s?"translate(0, 0)":"translate("+this.offsetcoords.xy(s,this.props.xindex,this.props.yindex)+")";return"after"===this.props.offsetorder?e+r:r+e},d.prototype.pathFunc=function(t,s){return a().x(function(t){return this.pathcoords.x(t[0])}.bind(this)).y(function(t){return this.pathcoords.y(t[1])}.bind(this)).apply(this,n(this.props.paths,s))},d.prototype.styleFunc=function(t,s){var o={stroke:n(this.props.edgecolors,s),"stroke-width":n(this.props.edgewidths,s),"stroke-opacity":n(this.props.alphas,s),fill:n(this.props.facecolors,s),"fill-opacity":n(this.props.alphas,s)},i="";for(var e in o)i+=e+":"+o[e]+";";return i},d.prototype.allFinite=function(t){return!(t instanceof Array)||t.length==t.filter(isFinite).length},d.prototype.draw=function(){this.group=this.ax.axes.append("svg:g"),this.pathsobj=this.group.selectAll("paths").data(this.offsets.filter(this.allFinite)).enter().append("svg:path").attr("d",this.pathFunc.bind(this)).attr("class","mpld3-path").attr("transform",this.transformFunc.bind(this)).attr("style",this.styleFunc.bind(this)).attr("vector-effect","non-scaling-stroke")},d.prototype.elements=function(t){return this.group.selectAll("path")},d.prototype.zoomed=function(){"data"===this.props.pathcoordinates&&this.pathsobj.attr("d",this.pathFunc.bind(this)),"data"===this.props.offsetcoordinates&&this.pathsobj.attr("transform",this.transformFunc.bind(this))},s.Line=u,u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.prototype.requiredProps=["data"],u.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",color:"salmon",linewidth:2,dasharray:"none",alpha:1,zorder:2,drawstyle:"none"},s.Markers=f,f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f.prototype.requiredProps=["data"],f.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",facecolor:"salmon",edgecolor:"black",edgewidth:1,alpha:1,markersize:6,markername:"circle",markerpath:null,zorder:3},f.prototype.pathFunc=function(t,s){return this.marker},s.Image=y,y.prototype=Object.create(E.prototype),y.prototype.constructor=y,y.prototype.requiredProps=["data","extent"],y.prototype.defaultProps={alpha:1,coordinates:"data",zorder:1},y.prototype.draw=function(){this.image=this.ax.axes.append("svg:image").attr("class","mpld3-image").attr("xlink:href","data:image/png;base64,"+this.props.data).style({opacity:this.props.alpha}).attr("preserveAspectRatio","none"),this.zoomed()},y.prototype.elements=function(s){return t.select(this.image)},y.prototype.zoomed=function(){var t=this.props.extent;this.image.attr("x",this.coords.x(t[0])).attr("y",this.coords.y(t[3])).attr("width",this.coords.x(t[1])-this.coords.x(t[0])).attr("height",this.coords.y(t[2])-this.coords.y(t[3]))},s.Text=g,g.prototype=Object.create(E.prototype),g.prototype.constructor=g,g.prototype.requiredProps=["text","position"],g.prototype.defaultProps={coordinates:"data",h_anchor:"start",v_baseline:"auto",rotation:0,fontsize:11,color:"black",alpha:1,zorder:3},g.prototype.draw=function(){"data"==this.props.coordinates?this.obj=this.ax.axes.append("text"):this.obj=this.ax.baseaxes.append("text"),this.obj.attr("class","mpld3-text").text(this.text).style("text-anchor",this.props.h_anchor).style("dominant-baseline",this.props.v_baseline).style("font-size",this.props.fontsize).style("fill",this.props.color).style("opacity",this.props.alpha),this.applyTransform()},g.prototype.elements=function(s){return t.select(this.obj)},g.prototype.applyTransform=function(){var t=this.coords.xy(this.position);this.obj.attr("x",t[0]).attr("y",t[1]),this.props.rotation&&this.obj.attr("transform","rotate("+this.props.rotation+","+t+")")},g.prototype.zoomed=function(){this.coords.zoomable&&this.applyTransform()},s.Axes=m,m.prototype=Object.create(E.prototype),m.prototype.constructor=m,m.prototype.requiredProps=["xlim","ylim"],m.prototype.defaultProps={bbox:[.1,.1,.8,.8],axesbg:"#FFFFFF",axesbgalpha:1,gridOn:!1,xdomain:null,ydomain:null,xscale:"linear",yscale:"linear",zoomable:!0,axes:[{position:"left"},{position:"bottom"}],lines:[],paths:[],markers:[],texts:[],collections:[],sharex:[],sharey:[],images:[]},m.prototype.draw=function(){for(var o=0;o<this.props.sharex.length;o++)this.sharex.push(s.get_element(this.props.sharex[o]));for(o=0;o<this.props.sharey.length;o++)this.sharey.push(s.get_element(this.props.sharey[o]));this.zoom=t.behavior.zoom(),this.zoom.last_t=this.zoom.translate(),this.zoom.last_s=this.zoom.scale(),this.zoom_x=t.behavior.zoom().x(this.xdom),this.zoom_y=t.behavior.zoom().y(this.ydom),this.baseaxes=this.fig.canvas.append("g").attr("transform","translate("+this.position[0]+","+this.position[1]+")").attr("width",this.width).attr("height",this.height).attr("class","mpld3-baseaxes"),this.clip=this.baseaxes.append("svg:clipPath").attr("id",this.clipid).append("svg:rect").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height),this.axes=this.baseaxes.append("g").attr("class","mpld3-axes").attr("clip-path","url(#"+this.clipid+")"),this.axesbg=this.axes.append("svg:rect").attr("width",this.width).attr("height",this.height).attr("class","mpld3-axesbg").style("fill",this.props.axesbg).style("fill-opacity",this.props.axesbgalpha);for(o=0;o<this.elements.length;o++)this.elements[o].draw()},m.prototype.enable_zoom=function(){this.props.zoomable&&(this.zoom.on("zoom",this.zoomed.bind(this,!0)),this.axes.call(this.zoom),this.axes.style("cursor","move"))},m.prototype.disable_zoom=function(){this.props.zoomable&&(this.zoom.on("zoom",null),this.axes.on(".zoom",null),this.axes.style("cursor",null))},m.prototype.zoomed=function(t){if(t=void 0===t||t){var s=this.zoom.translate()[0]-this.zoom.last_t[0],o=this.zoom.translate()[1]-this.zoom.last_t[1],i=this.zoom.scale()/this.zoom.last_s;this.zoom_x.translate([this.zoom_x.translate()[0]+s,0]),this.zoom_x.scale(this.zoom_x.scale()*i),this.zoom_y.translate([0,this.zoom_y.translate()[1]+o]),this.zoom_y.scale(this.zoom_y.scale()*i),this.zoom.last_t=this.zoom.translate(),this.zoom.last_s=this.zoom.scale(),this.sharex.forEach(function(t){t.zoom_x.translate(this.zoom_x.translate()).scale(this.zoom_x.scale())}.bind(this)),this.sharey.forEach(function(t){t.zoom_y.translate(this.zoom_y.translate()).scale(this.zoom_y.scale())}.bind(this)),this.sharex.forEach(function(t){t.zoomed(!1)}),this.sharey.forEach(function(t){t.zoomed(!1)})}for(var e=0;e<this.elements.length;e++)this.elements[e].zoomed()},m.prototype.reset=function(t,s){this.set_axlim(this.props.xdomain,this.props.ydomain,t,s)},m.prototype.set_axlim=function(o,i,n,a){o=r(o)?this.xdom.domain():o,i=r(i)?this.ydom.domain():i,n=r(n)?750:n,a=!!e(a)||a;var p="date"===this.props.xscale?s.interpolateDates(this.xdom.domain(),o):t.interpolate(this.xdom.domain(),o),h="date"===this.props.yscale?s.interpolateDates(this.ydom.domain(),i):t.interpolate(this.ydom.domain(),i),l=function(t){this.zoom_x.x(this.xdom.domain(p(t))),this.zoom_y.y(this.ydom.domain(h(t))),this.zoomed(!1)}.bind(this);t.select({}).transition().duration(n).tween("zoom",function(){return l}),a&&(this.sharex.forEach(function(t){t.set_axlim(o,null,n,!1)}),this.sharey.forEach(function(t){t.set_axlim(null,i,n,!1)})),this.zoom.scale(1).translate([0,0]),this.zoom.last_t=this.zoom.translate(),this.zoom.last_s=this.zoom.scale(),this.zoom_x.scale(1).translate([0,0]),this.zoom_y.scale(1).translate([0,0])},s.Toolbar=x,x.prototype=Object.create(E.prototype),x.prototype.constructor=x,x.prototype.defaultProps={buttons:["reset","move"]},x.prototype.addButton=function(t){this.buttons.push(new t(this))},x.prototype.draw=function(){function o(){this.buttonsobj.transition(750).attr("y",0)}s.insert_css("div#"+this.fig.figid+" .mpld3-toolbar image",{cursor:"pointer",opacity:.2,display:"inline-block",margin:"0px"}),s.insert_css("div#"+this.fig.figid+" .mpld3-toolbar image.active",{opacity:.4}),s.insert_css("div#"+this.fig.figid+" .mpld3-toolbar image.pressed",{opacity:.6}),this.fig.canvas.on("mouseenter",o.bind(this)).on("mouseleave",function(){this.buttonsobj.transition(750).delay(250).attr("y",16)}.bind(this)).on("touchenter",o.bind(this)).on("touchstart",o.bind(this)),this.toolbar=this.fig.canvas.append("svg:svg").attr("width",16*this.buttons.length).attr("height",16).attr("x",2).attr("y",this.fig.height-16-2).attr("class","mpld3-toolbar"),this.buttonsobj=this.toolbar.append("svg:g").selectAll("buttons").data(this.buttons).enter().append("svg:image").attr("class",function(t){return t.cssclass}).attr("xlink:href",function(t){return t.icon()}).attr("width",16).attr("height",16).attr("x",function(t,s){return 16*s}).attr("y",16).on("click",function(t){t.click()}).on("mouseenter",function(){t.select(this).classed({active:1})}).on("mouseleave",function(){t.select(this).classed({active:0})});for(var i=0;i<this.buttons.length;i++)this.buttons[i].onDraw()},x.prototype.deactivate_all=function(){this.buttons.forEach(function(t){t.deactivate()})},x.prototype.deactivate_by_action=function(t){function s(s){return-1!==t.indexOf(s)}t.length>0&&this.buttons.forEach(function(t){t.actions.filter(s).length>0&&t.deactivate()})},s.Button=b,b.prototype=Object.create(E.prototype),b.prototype.constructor=b,b.prototype.setState=function(t){t?this.activate():this.deactivate()},b.prototype.click=function(){this.active?this.deactivate():this.activate()},b.prototype.activate=function(){this.toolbar.deactivate_by_action(this.actions),this.onActivate(),this.active=!0,this.toolbar.toolbar.select("."+this.cssclass).classed({pressed:!0}),this.sticky||this.deactivate()},b.prototype.deactivate=function(){this.onDeactivate(),this.active=!1,this.toolbar.toolbar.select("."+this.cssclass).classed({pressed:!1})},b.prototype.sticky=!1,b.prototype.actions=[],b.prototype.icon=function(){return""},b.prototype.onActivate=function(){},b.prototype.onDeactivate=function(){},b.prototype.onDraw=function(){},s.ButtonFactory=function(t){if("string"!=typeof t.buttonID)throw"ButtonFactory: buttonID must be present and be a string";function s(t){b.call(this,t,this.buttonID)}s.prototype=Object.create(b.prototype),s.prototype.constructor=s;for(var o in t)s.prototype[o]=t[o];return s},s.Plugin=v,v.prototype=Object.create(E.prototype),v.prototype.constructor=v,v.prototype.requiredProps=[],v.prototype.defaultProps={},v.prototype.draw=function(){},s.ResetPlugin=A,s.register_plugin("reset",A),A.prototype=Object.create(v.prototype),A.prototype.constructor=A,A.prototype.requiredProps=[],A.prototype.defaultProps={},s.ZoomPlugin=w,s.register_plugin("zoom",w),w.prototype=Object.create(v.prototype),w.prototype.constructor=w,w.prototype.requiredProps=[],w.prototype.defaultProps={button:!0,enabled:null},w.prototype.activate=function(){this.fig.enable_zoom()},w.prototype.deactivate=function(){this.fig.disable_zoom()},w.prototype.draw=function(){this.props.enabled?this.fig.enable_zoom():this.fig.disable_zoom()},s.BoxZoomPlugin=z,s.register_plugin("boxzoom",z),z.prototype=Object.create(v.prototype),z.prototype.constructor=z,z.prototype.requiredProps=[],z.prototype.defaultProps={button:!0,enabled:null},z.prototype.activate=function(){this.enable&&this.enable()},z.prototype.deactivate=function(){this.disable&&this.disable()},z.prototype.draw=function(){s.insert_css("#"+this.fig.figid+" rect.extent."+this.extentClass,{fill:"#fff","fill-opacity":0,stroke:"#999"});var t=this.fig.getBrush();this.enable=function(){this.fig.showBrush(this.extentClass),t.on("brushend",function(s){if(this.enabled){var o=t.extent();t.empty()||s.set_axlim([o[0][0],o[1][0]],[o[0][1],o[1][1]])}s.axes.call(t.clear())}.bind(this)),this.enabled=!0},this.disable=function(){this.fig.hideBrush(this.extentClass),this.enabled=!1},this.toggle=function(){this.enabled?this.disable():this.enable()},this.disable()},s.TooltipPlugin=k,s.register_plugin("tooltip",k),k.prototype=Object.create(v.prototype),k.prototype.constructor=k,k.prototype.requiredProps=["id"],k.prototype.defaultProps={labels:null,hoffset:0,voffset:10,location:"mouse"},k.prototype.draw=function(){var o=s.get_element(this.props.id,this.fig),i=this.props.labels,e=this.props.location;this.tooltip=this.fig.canvas.append("text").attr("class","mpld3-tooltip-text").attr("x",0).attr("y",0).text("").style("visibility","hidden"),"bottom left"==e||"top left"==e?(this.x=o.ax.position[0]+5+this.props.hoffset,this.tooltip.style("text-anchor","beginning")):"bottom right"==e||"top right"==e?(this.x=o.ax.position[0]+o.ax.width-5+this.props.hoffset,this.tooltip.style("text-anchor","end")):this.tooltip.style("text-anchor","middle"),"bottom left"==e||"bottom right"==e?this.y=o.ax.position[1]+o.ax.height-5+this.props.voffset:"top left"!=e&&"top right"!=e||(this.y=o.ax.position[1]+5+this.props.voffset),o.elements().on("mouseover",function(t,s){this.tooltip.style("visibility","visible").text(null===i?"("+t+")":n(i,s))}.bind(this)).on("mousemove",function(s,o){if("mouse"===e){var i=t.mouse(this.fig.canvas.node());this.x=i[0]+this.props.hoffset,this.y=i[1]-this.props.voffset}this.tooltip.attr("x",this.x).attr("y",this.y)}.bind(this)).on("mouseout",function(t,s){this.tooltip.style("visibility","hidden")}.bind(this))},s.LinkedBrushPlugin=_,s.register_plugin("linkedbrush",_),_.prototype=Object.create(s.Plugin.prototype),_.prototype.constructor=_,_.prototype.requiredProps=["id"],_.prototype.defaultProps={button:!0,enabled:null},_.prototype.activate=function(){this.enable&&this.enable()},_.prototype.deactivate=function(){this.disable&&this.disable()},_.prototype.draw=function(){var o=s.get_element(this.props.id);if(null===o)throw"LinkedBrush: no object with id='"+this.props.id+"' was found";var i=this.fig;if(!("offsets"in o.props))throw"Plot object with id='"+this.props.id+"' is not a scatter plot";var e="offsets"in o.props?"offsets":"data";s.insert_css("#"+i.figid+" rect.extent."+this.extentClass,{fill:"#000","fill-opacity":.125,stroke:"#fff"}),s.insert_css("#"+i.figid+" path.mpld3-hidden",{stroke:"#ccc !important",fill:"#ccc !important"});var r="mpld3data-"+o.props[e],n=i.getBrush(),a=[];i.axes.forEach(function(t){var s=[];t.elements.forEach(function(t){t.props[e]===o.props[e]&&(t.group.classed(r,!0),s.push(t))}),a.push(s)});var p,h=i.canvas.selectAll("."+r);function l(s){p!=this&&(t.select(p).call(n.clear()),p=this,n.x(s.xdom).y(s.ydom))}function c(t){var s=a[t.axnum];if(s.length>0){var o=s[0].props.xindex,i=s[0].props.yindex,e=n.extent();n.empty()?h.selectAll("path").classed("mpld3-hidden",!1):h.selectAll("path").classed("mpld3-hidden",function(t){return e[0][0]>t[o]||e[1][0]<t[o]||e[0][1]>t[i]||e[1][1]<t[i]})}}function d(t){n.empty()&&h.selectAll("path").classed("mpld3-hidden",!1)}this.enable=function(){this.fig.showBrush(this.extentClass),n.on("brushstart",l).on("brush",c).on("brushend",d),this.enabled=!0},this.disable=function(){t.select(p).call(n.clear()),this.fig.hideBrush(this.extentClass),this.enabled=!1},this.disable()},s.register_plugin("mouseposition",P),P.prototype=Object.create(s.Plugin.prototype),P.prototype.constructor=P,P.prototype.requiredProps=[],P.prototype.defaultProps={fontsize:12,fmt:".3g"},P.prototype.draw=function(){for(var s=this.fig,o=t.format(this.props.fmt),i=s.canvas.append("text").attr("class","mpld3-coordinates").style("text-anchor","end").style("font-size",this.props.fontsize).attr("x",this.fig.width-5).attr("y",this.fig.height-5),e=0;e<this.fig.axes.length;e++){var r=function(){var r=s.axes[e];return function(){var s=t.mouse(this),e=r.x.invert(s[0]),n=r.y.invert(s[1]);i.text("("+o(e)+", "+o(n)+")")}}();s.axes[e].baseaxes.on("mousemove",r).on("mouseout",function(){i.text("")})}},s.Figure=B,B.prototype=Object.create(E.prototype),B.prototype.constructor=B,B.prototype.requiredProps=["width","height"],B.prototype.defaultProps={data:{},axes:[],plugins:[{type:"reset"},{type:"zoom"},{type:"boxzoom"}]},B.prototype.getBrush=function(){if(void 0===this._brush){var s=t.svg.brush().x(t.scale.linear()).y(t.scale.linear());this.root.selectAll(".mpld3-axes").data(this.axes).call(s),this.axes.forEach(function(t){s.x(t.xdom).y(t.ydom),t.axes.call(s)}),this._brush=s,this.hideBrush()}return this._brush},B.prototype.showBrush=function(t){t=void 0===t?"":t;var s=this.getBrush();s.on("brushstart",function(t){s.x(t.xdom).y(t.ydom)}),this.canvas.selectAll("rect.background").style("cursor","crosshair").style("pointer-events",null),this.canvas.selectAll("rect.extent, rect.resize").style("display",null).classed(t,!0)},B.prototype.hideBrush=function(t){t=void 0===t?"":t;var s=this.getBrush();s.on("brushstart",null).on("brush",null).on("brushend",function(t){t.axes.call(s.clear())}),this.canvas.selectAll("rect.background").style("cursor",null).style("pointer-events","visible"),this.canvas.selectAll("rect.extent, rect.resize").style("display","none").classed(t,!1)},B.prototype.add_plugin=function(t){var i=t.type;if(void 0!==i)if(delete(t=o(t)).type,i in s.plugin_map&&(i=s.plugin_map[i]),"function"==typeof i){if(t.clear_toolbar&&(this.props.toolbar=[]),"buttons"in t)if("string"==typeof t.buttons)this.props.toolbar.push(t.buttons);else for(var e=0;e<t.buttons.length;e++)this.props.toolbar.push(t.buttons[e]);this.plugins.push(new i(this,t))}else console.warn("Skipping unrecognized plugin: "+i);else console.warn("unspecified plugin type. Skipping this")},B.prototype.draw=function(){this.canvas=this.root.append("svg:svg").attr("class","mpld3-figure").attr("width",this.width).attr("height",this.height);for(var t=0;t<this.axes.length;t++)this.axes[t].draw();this.disable_zoom();for(t=0;t<this.plugins.length;t++)this.plugins[t].draw();this.toolbar.draw()},B.prototype.reset=function(t){this.axes.forEach(function(s){s.reset(t,!1)})},B.prototype.enable_zoom=function(){for(var t=0;t<this.axes.length;t++)this.axes[t].enable_zoom();this.zoom_on=!0},B.prototype.disable_zoom=function(){for(var t=0;t<this.axes.length;t++)this.axes[t].disable_zoom();this.zoom_on=!1},B.prototype.toggle_zoom=function(){this.zoom_on?this.disable_zoom():this.enable_zoom()},B.prototype.get_data=function(t){return null===t||void 0===t?null:"string"==typeof t?this.data[t]:t},s.PlotElement=E,E.prototype.requiredProps=[],E.prototype.defaultProps={},E.prototype.processProps=function(t){t=o(t);var i={},e=this.name();this.requiredProps.forEach(function(s){if(!(s in t))throw"property '"+s+"' must be specified for "+e;i[s]=t[s],delete t[s]});for(var r in this.defaultProps)r in t?(i[r]=t[r],delete t[r]):i[r]=this.defaultProps[r];"id"in t?(i.id=t.id,delete t.id):"id"in i||(i.id=s.generateId());for(var r in t)console.warn("Unrecognized property '"+r+"' for object "+this.name()+" (value = "+t[r]+").");return i},E.prototype.name=function(){var t=/function (.{1,})\(/.exec(this.constructor.toString());return t&&t.length>1?t[1]:""},"object"==typeof module&&module.exports?module.exports=s:this.mpld3=s,console.log("Loaded mpld3 version "+s.version)}(d3);
